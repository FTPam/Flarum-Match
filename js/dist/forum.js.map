{"version":3,"sources":["webpack://@tpam/flarum-match/webpack/bootstrap","webpack://@tpam/flarum-match/./forum.js","webpack://@tpam/flarum-match/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@tpam/flarum-match/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@tpam/flarum-match/./src/forum/components/CreateMatchModal.js","webpack://@tpam/flarum-match/./src/forum/index.js","webpack://@tpam/flarum-match/external \"flarum.core.compat['common/components/Button']\"","webpack://@tpam/flarum-match/external \"flarum.core.compat['common/components/Modal']\"","webpack://@tpam/flarum-match/external \"flarum.core.compat['common/components/Switch']\"","webpack://@tpam/flarum-match/external \"flarum.core.compat['common/extend']\"","webpack://@tpam/flarum-match/external \"flarum.core.compat['common/utils/Stream']\"","webpack://@tpam/flarum-match/external \"flarum.core.compat['common/utils/classList']\"","webpack://@tpam/flarum-match/external \"flarum.core.compat['components/TextEditor']\"","webpack://@tpam/flarum-match/external \"flarum.core.compat['components/TextEditorButton']\"","webpack://@tpam/flarum-match/external \"flarum.core.compat['forum/app']\"","webpack://@tpam/flarum-match/external \"flarum.core.compat['forum/components/DiscussionComposer']\""],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","setPrototypeOf","_setPrototypeOf","o","p","__proto__","CurrentDate","dayjs","format","CurrentTime","CreateMatchModal","loading","date","time","oninit","vnode","pickUpPoint","destination","title","className","configDatePicker","content","e","target","value","maxWait","sex","contact","message","Button","component","type","getLocationName","a","getSexName","onsubmit","preventDefault","window","alert","isNaN","undefined","console","log","datas","relationships","tags","data","id","JSON","stringify","app","store","createRecord","save","then","discussion","discussions","refresh","deferClear","m","route","set","DiscussionComposer","close","Modal","initializers","add","addMatch","regex","RegExp","test","session","user","email","modal","show","poll","extend","items","bind","classList"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import app from 'flarum/forum/app';\n\nimport Button from 'flarum/common/components/Button';\nimport Modal from 'flarum/common/components/Modal';\nimport Switch from 'flarum/common/components/Switch';\nimport Stream from 'flarum/common/utils/Stream';\nimport DiscussionComposer from 'flarum/forum/components/DiscussionComposer';\n\nconst CurrentDate = dayjs().format('YYYY-MM-DD');\nconst CurrentTime = dayjs().format('HH:mm');\n\nexport default class CreateMatchModal extends Modal {\n  loading = false;\n\n  date;\n  time;\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.date = CurrentDate;\n    this.time = CurrentTime;\n    this.pickUpPoint='xm';\n    this.destination='xm';\n  }\n\n  title() {\n    return '发起拼车匹配';\n  }\n\n  className() {\n    return 'MatchDiscussionModal Modal--small';\n  }\n\n  configDatePicker(vnode) {\n  }\n\n  content() {\n    return [\n      <div className=\"Modal-body\">\n        <div className=\"MatchDiscussionModal-form\">\n          <div className=\"Form-group\">\n            <label className=\"label\">{'出发地点'}</label>\n            <select\n              class=\"Select-input FormControl\"\n              value={this.pickUpPoint}\n              onchange={(e) => (this.pickUpPoint = e.target.value)}>\n              <option value='xm'>交大西门</option>\n              <option value='tf'>天府国际机场</option>\n              <option value='sl'>双流国际机场</option>\n              <option value='dz'>成都东站</option>\n              <option value='nz'>成都南站</option>\n            </select>\n          </div>\n          <div className=\"Form-group\">\n            <label className=\"label\">{'到达地点'}</label>\n            <select\n              class=\"Select-input FormControl\"\n              value={this.destination}\n              onchange={(e) => (this.destination = e.target.value)}>\n              <option value='xm'>交大西门</option>\n              <option value='tf'>天府国际机场</option>\n              <option value='sl'>双流国际机场</option>\n              <option value='dz'>成都东站</option>\n              <option value='nz'>成都南站</option>\n              </select>\n          </div>\n          <div className='Form-group CreateMatchModal-timeDateGroup'>\n            <label class=\"label\">{'出发时间'}</label>\n              <input\n                name=\"scheduledLeaveDate\"\n                class=\"FormControl\"\n                type=\"date\"\n                min={CurrentDate}\n                value={this.date}\n                onchange={(e) => (this.date = e.target.value)}\n              />\n              <input\n                name=\"scheduledLeaveTime\"\n                class=\"FormControl\"\n                type=\"time\"\n                value={this.time}\n                onchange={(e) => (this.time = e.target.value)}\n              />\n          </div>\n          <div className=\"Form-group\">\n            <label className=\"label\">{'最长可等待 [单位：分钟,只填数字,最多720]'}</label>\n            <input\n              type=\"text\"\n              class=\"FormControl\"\n              value={this.maxWait}\n              onchange={(e) => (this.maxWait = e.target.value)}\n              min={0}\n            />\n          </div>\n          <div className=\"Form-group\">\n            <label className=\"label\">{'你的性别'}</label>\n              <select\n                class=\"Select-input FormControl\"\n                value={this.sex}\n                onchange={(e) => (this.sex = e.target.value)}>>\n                <option value='non'>保密</option>\n                <option value='boy'>男</option>\n                <option value='girl'>女</option>\n              </select>\n          </div>\n          <div className=\"Form-group\">\n            <label className=\"label\">{'联系方式（可匹配后自行沟通）'}</label>\n            <input\n              type=\"text\"\n              class=\"FormControl\"\n              value={this.contact}\n              onchange={(e) => (this.contact = e.target.value)}\n            />\n          </div>\n          <div className=\"Form-group\">\n            <label className=\"label\">{'附加信息（非必填，支持Markdown）'}</label>\n            <input\n              type=\"text\"\n              class=\"FormControl\"\n              value={this.message}\n              onchange={(e) => (this.message = e.target.value)}\n            />\n          </div>\n\n          <div className=\"Form-group\">\n            {Button.component(\n              {\n                type: 'submit',\n                className: 'Button Button--primary MatchModal-SubmitButton',\n                loading: this.loading,\n              },\n              '开始匹配'\n            )}\n          </div>\n        </div>\n      </div>\n    ]\n  }\n\n  getLocationName(a) {\n    switch (a) {\n      case 'xm' :\n        return '交大西门'\n      case 'tf' :\n        return '天府国际机场'\n      case 'sl' :\n        return '双流国际机场'\n      case 'dz' :\n        return '成都东站'\n      case 'nz' :\n        return '成都南站'\n    }\n  }\n  getSexName(a){\n    switch (a) {\n      case 'non' :\n        return '保密';\n      case 'boy' :\n        return '男';\n      case 'girl':\n        return '女';\n      default:\n        return '未填写';\n    }\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n    if (!this.pickUpPoint || !this.destination) {\n      window.alert('请填写出发地和目的地');\n      return;\n    } else if (this.pickUpPoint == this.destination) {\n      window.alert('出发地和目的地不能一样');\n      return;\n    }\n    if (!this.date || !this.time) {\n      window.alert('请填写出发时间');\n      return;\n    } else if (this.time < CurrentTime) {\n      if (this.date <= CurrentDate) {\n        window.alert('出发时间必须晚于当前时间');\n        return;\n      }\n    }\n    if (isNaN(this.maxWait)) {\n      window.alert('请在最长等待时间中填写阿拉伯数字');\n      return;\n    } else if (this.maxWait < 0 || this.maxWait > 720) {\n      window.alert('最长等待时间必须大于等于0, 小于等于720');\n      return;\n    }\n    const title = '[拼车]'+this.date + ' ' + this.time + '[' + this.getLocationName(this.pickUpPoint) + ']-[' + this.getLocationName(this.destination) + ']'\n    const content = '------\\n'+'#### 出发地点：' + this.getLocationName(this.pickUpPoint) + '\\n' +\n      '#### 到达地点：' + this.getLocationName(this.destination) + '\\n' +\n      '#### 出发时间：' + this.date + ' ' + this.time + '\\n' +\n      '#### 最多等待：' + this.maxWait + '分钟\\n------\\n' +\n      '#### 性别：' + this.getSexName(this.sex) + '\\n' + '------\\n' +\n      '#### 联系方式：\\n' + (this.contact ? undefined :  '未填写') + '\\n'+\n      '#### 附加信息：\\n' + (this.message ? undefined :  '未填写') + '\\n ------- \\n' +\n      '> ## 安全提醒!!!\\n' +\n      '1. 建议您在拼车成功后，立即联系对方，并充分沟通上车时间、地点等问题，以确保拼车过程一切顺利。\\n' +\n      '2. 论坛只能确认该账户绑定了交大邮箱，并不能确定该拼车申请是否由该邮箱账号的持有者发起。\\n' +\n      '为了您的安全，请在联系上对方后，向对方索要学生证、一卡通的照片，或者其它基本个人信息，以进一步确认对方的本校学生身份。若对方拒不提供任何基本个人信息，或见面时，发现对方谎报个人信息，建议您立即停止拼车。\\n' +\n      '3. 为了您的安全，请向您的朋友分享行程，路途中请保持清醒和警惕。\\n' +\n      '4. 为了您的安全，请尽量选择滴滴、美团等知名网约车平台，不要乘坐没有资质的网约车。\\n' +\n      '5. 如果行程中您受到了骚扰，请及时报警，并向论坛反映情况，我们会全力配合调查。'+'\\n\\n' +\n      '> ## 注意事项：\\n' +\n      '1. 建议您开启邮件通知，并在交大邮箱设置中，将所有邮件转发到你的常用邮箱，以便及时接收匹配信息。\\n[点我，查看打开邮件通知的方法](https://mcfuntime.com/d/90/13)\\n' +\n      '2. 匹配完成后，请及时为帖子设置最佳回复或删除帖子，以免重复匹配。\\n'+\n      '3. 若在您的上车时间到达后仍未匹配成功，请删除您的帖子。之后若用户数量增多，我们会提供自动匹配服务，以提高匹配成功的概率。\\n'+'\\n> ------- \\n';\n    console.log('update')\n\n    const datas = {\n      title: 'title',\n      content: 'content',\n      relationships: {\n        tags: {\n          data: [{\n            type: \"tags\",\n            id: \"4\" ,\n          }],\n        }\n      }\n    }\n    console.log(JSON.stringify(datas))\n    app.store\n      .createRecord('discussions')\n      .save(datas)\n      .then((discussion) => {\n        app.discussions.refresh({deferClear: true});\n        m.route.set(app.route.discussion(discussion));\n      },);\n    console.log(JSON.stringify(datas))\n    DiscussionComposer.close();\n    this.close();\n  }\n}\n\n","import app from 'flarum/forum/app';\n\nimport { extend } from 'flarum/common/extend';\nimport {override} from 'flarum/common/extend'\n\nimport classList from 'flarum/common/utils/classList';\nimport DiscussionComposer from 'flarum/forum/components/DiscussionComposer';\nimport TextEditor from 'flarum/components/TextEditor';\nimport TextEditorButton from 'flarum/components/TextEditorButton';\nimport CreateMatchModal from './components/CreateMatchModal';\n\napp.initializers.add('tpam/flarum-match', () => {\n  DiscussionComposer.prototype.addMatch = function () {\n    const regex = new RegExp('^[0-9a-zA-Z_-].+@my.swjtu.edu\\\\.cn$');\n    if(!regex.test(app.session.user.email())){\n      window.alert('使用此功能，你需要先完成交大学生认证')\n      return;\n    }\n    app.modal.show(CreateMatchModal, {\n      poll: this.poll,\n      onsubmit: (poll) => (this.poll = poll),\n    });\n  };\n\n  extend(DiscussionComposer.prototype, 'headerItems', function (items) {\n    items.add(\n      'match',\n      <a className=\"DiscussionComposer-match\" onclick={this.addMatch.bind(this)}>\n        <span className={classList('MatchLabel', !this.poll && 'none')}>\n          {'发起拼车匹配'}\n        </span>\n      </a>,\n      2\n    );\n  });\n});\n","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/Switch'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/classList'];","module.exports = flarum.core.compat['components/TextEditor'];","module.exports = flarum.core.compat['components/TextEditorButton'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/DiscussionComposer'];"],"sourceRoot":""}